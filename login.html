

<!DOCTYPE html>
<html>
   <title>Taylored Instruction Login</title>
   <head>
      <link rel="icon" sizes="192x192" href="images/icon.png">
      <link rel="apple-touch-icon" href="images/icon.png">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="mobile-web-app-capable" content="yes">
      <link rel="stylesheet" href="lib/w3.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <style>
         body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
         .w3-row-padding img {margin-bottom: 12px}
         /* Set the width of the sidenav to 120px */
         .w3-sidenav {width: 120px;background: #222;}
         /* Add a left margin to the "page content" that matches the width of the sidenav (120px) */
         #main {margin-left: 120px}
         /* Remove margins from "page content" on small screens */
         @media only screen and (max-width: 600px) {#main {margin-left: 0}}
      </style>
      <style>
         body { 
         background-color: black;
         }
      </style>
      <script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>
      <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-database.js"></script>
      <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-messaging.js"></script>
      <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAvBPL76AXVKbwSpm9X1BlXTzaTXhNLYew"></script>
      <script>
function getUrlVars() {
var vars = {};
var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
	console.log(parts)
vars[key] = value;
});
window.location.href = 'https://tayloredinstruction.github.io/'+vars["target"]

}
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAPGboQdrh1wMjLi6cxhPF53NNuCdbRgBY",
    authDomain: "taylored-instruction.firebaseapp.com",
    databaseURL: "https://taylored-instruction.firebaseio.com",
    storageBucket: "taylored-instruction.appspot.com",
    messagingSenderId: "1091342339175"
  };
  firebase.initializeApp(config);
  firebase.auth().onAuthStateChanged(function(user) {
	  firebase.auth().signInWithCustomToken("eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ0YXlsb3JlZC1pbnN0cnVjdGlvbkBhcHBzcG90LmdzZXJ2aWNlYWNjb3VudC5jb20iLCJzdWIiOiJ0YXlsb3JlZC1pbnN0cnVjdGlvbkBhcHBzcG90LmdzZXJ2aWNlYWNjb3VudC5jb20iLCJhdWQiOiJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS9nb29nbGUuaWRlbnRpdHkuaWRlbnRpdHl0b29sa2l0LnYxLklkZW50aXR5VG9vbGtpdCIsImlhdCI6MTQ4NDc5NDY2MSwiZXhwIjoxNDg0Nzk4MjYxLCJ1aWQiOiJ0YXlsb3JlZGluc3RydWN0aW9uZ21haWxjb20iLCJjbGFpbXMiOnsiZG9tYWluIjoiZ21haWwtY29tIiwidXNlcm5hbWUiOiJ0YXlsb3JlZGluc3RydWN0aW9uIiwiZW1haWxBZGRyZXNzIjoidGF5bG9yZWRpbnN0cnVjdGlvbkBnbWFpbC5jb20ifX0=.qco92EdJuUGiFwF60v9odPTY65ewbUz+ADKyQTGPwI+twDxycoceyrzjJxpsLax3zWyiFnK9Zu4HvCssKRWoekLCWJkOxjVva1qE8lkSS7A+esB8XsGFR00/ik/Z/Jyv2uSOyRwdD8Pkg6b3MxmXrHJWBpYnmgr/mtQnTiNLYh4j0uqOnFGDp4SZm789yjERK/TNVQHSkp+TqOu5aUmXlJuzrd3CoxpE6+6aiB9Mud1GAOtJUBEB0HjoOEJcyWgjGpk8tVATa7kGbjjmYI4sP6q9M0Sk8f+ZjYF31GKdTFSTWZqOhJ5MkTfsdp6fXIKl1CezQpfIicps4wrra2QXBA==").catch(function(error) {
firebase.auth().currentUser.getToken(/* forceRefresh */ true).then(function(idToken) {
console.log(idToken)
}).catch(function(error) {
   console.log(error)
});
		  console.log(error)
		  var errorCode = error.code;
  var errorMessage = error.message;
});
       // var user = firebase.auth().currentUser;
  //if (user) {
	  //getUrlVars()
  //} else {
    // No user is signed in.
  //}
});
      
</script>
         <script src="https://cdn.firebase.com/libs/firebaseui/1.0.0/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/1.0.0/firebaseui.css" />
    <script type="text/javascript">
      
      
     function facebooklogin(){
       var provider = new firebase.auth.FacebookAuthProvider();
               firebase.auth().signInWithRedirect(provider);
firebase.auth().getRedirectResult().then(function(result) {
  if (result.credential) {
    // This gives you a Facebook Access Token. You can use it to access the Facebook API.
    var token = result.credential.accessToken;
    // ...
  }
  // The signed-in user info.
  var user = result.user;
}).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
	var email = error.email;
  // The firebase.auth.AuthCredential type that was used.
  var credential = error.credential;
  // ...
});
     }
      
      
      function googlelogin(){
        var provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithRedirect(provider);
        firebase.auth().getRedirectResult().then(function(result) {
           if (result.credential) {
            // This gives you a Google Access Token. You can use it to access the Google API.
           var token = result.credential.accessToken;
            // ...
          }
        // The signed-in user info.
        var user = result.user;
        }).catch(function(error) {
        // Handle Errors here.
        var errorCode = error.code;
       var errorMessage = error.message;
       // The email of the user's account used.
       var email = error.email;
       // The firebase.auth.AuthCredential type that was used.
        var credential = error.credential;
       // ...
      });
    }
      
      
      function emailpasslogin(){
       var email = document.getElementById("lusername").value
       var password = document.getElementById("lpassword").value
        firebaseref.authWithPassword({
                    email: email,
                    password: password,
                });
      }
      
     function register(){
       var email = document.getElementById("susername").value
       var password = document.getElementById("spassword").value
        firebaseref.createUser({
            email: email,
            password: password
        }),

        function(error, userData) {
            if (error) {
                console.log("Error creating user:", error);
                alert("Error creating user:" + error)
            } else {
                firebaseref.authWithPassword({
                    email: email,
                    password: password,
                });

            }
        }
                               }
    </script>
   </head>
   <body class="w3-black">
      

      <!-- Icon Bar (Sidenav - hidden on small screens) -->
      <nav class="w3-sidenav w3-center w3-small w3-hide-small">
         <!-- Avatar image in top left corner -->
         <img src="images/GOPR3079-0001.jpg" style="width:100%">
         <a class="w3-padding-large w3-black" href="https://tayloredinstruction.github.io/">
            <i class="fa fa-home w3-xxlarge"></i>
            <p>HOME</p>
         </a>


         
      </nav>
      <!-- Navbar on small screens (Hidden on medium and large screens) -->
      <div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
         <ul class="w3-navbar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
            <li class="w3-left" style="width:50% !important"><a href="https://tayloredinstruction.github.io/"><i class="fa fa-home w3-xxlarge"></i></a></li>
         </ul>
      </div>
      <!-- Page Content -->
      <div class="w3-padding-large" id="main">
         <!-- Header/Home -->
         <header class="w3-container w3-padding-32 w3-center w3-black" id="home" style="min-height:95vh">
            <h2 class="w3-text-light-grey" align = "center">Login</h2>
<div id = "login">
	<input type="image" src="images/gsignin.png" onclick="googlelogin()"><br>
	<input type="image" src="images/fsignin.png" onclick="facebooklogin()">

      
    </div>         </header>
         <!-- Add Trip Section -->

        
       
        
         <!-- Footer -->
         <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
            <i class="fa fa-facebook-official w3-hover-text-indigo"></i>
            <i class="fa fa-instagram w3-hover-text-purple"></i>
            <i class="fa fa-snapchat w3-hover-text-yellow"></i>
            <i class="fa fa-pinterest-p w3-hover-text-red"></i>
            <i class="fa fa-twitter w3-hover-text-light-blue"></i>
            <i class="fa fa-linkedin w3-hover-text-indigo"></i>
            <p class="w3-medium">Powered by <a href="http://www.w3schools.com/w3css/default.asp" target="_blank" class="w3-hover-text-green">w3.css</a></p>
            <!-- End footer -->
         </footer>
         <!-- END PAGE CONTENT -->
      </div>
   </body>
</html>
