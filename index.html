<!DOCTYPE html>
<html>
<title>Taylored Instruction</title>
<head>
<style>
       div.google-maps {
        height: 90vh;
        width: 85vw;
       }
    </style>
<link rel="icon" sizes="192x192" href="images/icon.png">
	<link rel="apple-touch-icon" href="images/icon.png">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="lib/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
.w3-row-padding img {margin-bottom: 12px}
/* Set the width of the sidenav to 120px */
.w3-sidenav {width: 120px;background: #222;}
/* Add a left margin to the "page content" that matches the width of the sidenav (120px) */
#main {margin-left: 120px}
/* Remove margins from "page content" on small screens */
@media only screen and (max-width: 600px) {#main {margin-left: 0}}
</style>
  
</head>
<body class="w3-black">

<!-- Icon Bar (Sidenav - hidden on small screens) -->
<nav class="w3-sidenav w3-center w3-small w3-hide-small">
  <!-- Avatar image in top left corner -->
  <img src="images/GOPR3079-0001.jpg" style="width:100%">
  <a class="w3-padding-large w3-black" href="#">
    <i class="fa fa-home w3-xxlarge"></i>
    <p>HOME</p>
  </a>
  <a class="w3-padding-large w3-hover-black" href="#about">
    <i class="fa fa-user w3-xxlarge"></i>
    <p>RIVER MAP</p>
  </a>
  <a class="w3-padding-large w3-hover-black" href="#photos">
    <i class="fa fa-eye w3-xxlarge"></i>
    <p>SECTION INFO</p>
  </a>
  <a class="w3-padding-large w3-hover-black" href="#contact">
    <i class="fa fa-envelope w3-xxlarge"></i>
    <p>CONTACT</p>
  </a>
</nav>

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <ul class="w3-navbar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <li class="w3-left" style="width:25% !important"><a href="#">HOME</a></li>
    <li class="w3-left" style="width:25% !important"><a href="#about">RIVER MAP</a></li>
    <li class="w3-left" style="width:25% !important"><a href="#photos">SECTION INFO</a></li>
    <li class="w3-left" style="width:25% !important"><a href="#contact">CONTACT</a></li>
  </ul>
</div>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-black" id="home">
    <h2 class="w3-text-light-grey" align = "center">Taylored Instruction</h2>
    <p>Australian River Levels and Trips</p>
          <img src="images/GOPR3079-0001.jpg" alt="yunowork" class="w3-image" width="1920" height="1080">
<br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	</header>


  <!-- About Section -->
    <div class="google-maps" id="about">

    <iframe src="https://tayloredinstruction.github.io/ti-sites/" width = 100% height = 100%></iframe>

    </div></div>
  <br>
	<br>
	<br>
	<br>
	<br>
	<br>
	
  <!-- Portfolio Section -->
  <div class="w3-padding-64 w3-content" id="photos">
    <h2>River Selector</h2>

<div id="demo">
<p id="test"></p>
<button type="button" onclick="loadXMLDoc()">Get Latest Info</button>
<p> State:
<select id="State">
<option selected value ="Any">Any</option>
<option value ="NSW">NSW</option>
<option value ="QLD">QLD</option>
<option value ="VIC">VIC</option>
<option value ="TAS">TAS</option>
</select>
Level:
<select id="Level">
<option selected value="Any">Any</option>
<option value=0>Visual</option>
<option value=1>Low</option>
<option value=2>Good</option>
<option value=3>High</option>
</select>
	<p>
Min. Grade:
<select id="Min. grade">
  <option value=-1>None</option>
  <option value=2>2</option>
  <option value=3>3</option>
  <option value=4>4</option>
  <option value=5>5</option>
  <option value=6>6</option>
</select>
	</p>
	<p>
Max.Grade: 
<select id="Max. grade">
  <option value=7 selected>None</option>
  <option value=2>2</option>
  <option value=3>3</option>
  <option value=4>4</option>
  <option value=5>5</option>
  <option value=6>6</option>
    </select></p>
<button type="button" onclick="populate()">Apply</button>
</div>
    <select id="RivSec" onchange="update()" style="max-width:90%;">
    </select>
<div id="River"></div>
<div id="Section"></div>
<div id="Character"></div>
<div id="Min. Level"></div>
<div id="Max. Level"></div>
<div id="Current Level"></div>
<div id="12 hr Previous"></div>
<div id="Average Grade"></div>
<div id="Length (km)"></div>
<div id="Time (hrs)"></div>
<div id="Shuttle (min)"></div>
<div id="Full Description"></div>

<script>
  function update(){
  var i = document.getElementById("RivSec").value
  var json = JSON.parse(localStorage.json)  
      document.getElementById("River").innerHTML =
      "River: "+json.rows[i][0]
      document.getElementById("Section").innerHTML =
      "Section: "+json.rows[i][1]
	  document.getElementById("Character").innerHTML =
      "Character: "+json.rows[i][2]
      document.getElementById("Min. Level").innerHTML =
      "Min. Level: "+json.rows[i][3]
      document.getElementById("Max. Level").innerHTML =
      "Max. Level: "+json.rows[i][4]
      document.getElementById("Current Level").innerHTML =
      "Current Level: "+json.rows[i][5]
      document.getElementById("12 hr Previous").innerHTML =
      "12 hr Previous: "+json.rows[i][6]
      document.getElementById("Average Grade").innerHTML =
      "Average Grade: "+json.rows[i][7]
      document.getElementById("Length (km)").innerHTML =
      "Length (km): "+json.rows[i][8]
      document.getElementById("Time (hrs)").innerHTML =
      "Time (hrs): "+json.rows[i][9]
      document.getElementById("Shuttle (min)").innerHTML =
      "Shuttle (min): "+json.rows[i][10]
      document.getElementById("Full Description").innerHTML =
      "Full Description: "+json.rows[i][15] 
  }
function removeOptions(selectbox)
{
    var i;
    for(i = selectbox.options.length - 1 ; i >= 0 ; i--)
    {
        selectbox.remove(i);
    }
}
function loadXMLDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
    	var json = JSON.parse(this.responseText);
       localStorage.removeItem("json")
       localStorage.json=JSON.stringify(json);
    }
  }
  xhttp.open("GET", "https://www.googleapis.com/fusiontables/v1/query?sql=SELECT+River%2C+Section%2C+Character%2C+'Min.+Level'%2C+'Max.+Level'%2C+'Current+Level'%2C+'12+hr+Previous'%2C+'Average+Grade'%2C+'Length+(km)'%2C+'Time+(hrs)'%2C+'Shuttle+(min)'%2C+'State'%2C+'Go+or+No'%2C+'Min+Grade'%2C+'Max+Grade'%2C+'Full+Description'%2c+'LATLONG IN'+FROM+1xOnTf3qaHEzBGDv0iSEihtLUMK7nIn9QV2ED17ke&key=AIzaSyAvBPL76AXVKbwSpm9X1BlXTzaTXhNLYew", true);
  xhttp.send();
  }
  function populate(){
	  var json = JSON.parse(localStorage.json)
    removeOptions(document.getElementById("RivSec"));
    var elm = document.getElementById('RivSec'),
        df = document.createDocumentFragment();
    for (var i=0; i<json.rows.length ; i++){
    if ((document.getElementById("State").value == json.rows[i][11] || document.getElementById("State").value == "Any") && ( document.getElementById("Level").value == json.rows[i][12] || document.getElementById("Level").value == "Any" ) && (document.getElementById("Min. grade").value <= json.rows[i][13]) && (document.getElementById("Max. grade").value >= json.rows[i][14]) ){
    var div = document.createElement('div');
    div.innerHTML= json.rows[i][1]
      var option = document.createElement('option');
      option.value = i;
      option.appendChild(document.createTextNode(json.rows[i][0]+" - "+div.textContent));
      df.appendChild(option);}
      else{
      }
    }
    elm.appendChild(df);
    update()
 
  
    
 

      }

    </script>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
  </div>

  <!-- Contact Section -->
  <div class="w3-padding-64 w3-content w3-text-grey" id="contact">
	  <h2 class="w3-text-light-grey">Contact Us</h2>
    <hr style="width:200px" class="w3-opacity">

    <div class="w3-section">
      <p><i class="fa fa-map-marker fa-fw w3-text-white w3-xxlarge w3-margin-right"></i> Kyogle, NSW</p>
      <p><i class="fa fa-phone fa-fw w3-text-white w3-xxlarge w3-margin-right"></i> Phone: 0431033970</p>
      <p><i class="fa fa-envelope fa-fw w3-text-white w3-xxlarge w3-margin-right"> </i> Email: tayloredinstruction@gmail.com</p>
    </div><br>
  <!-- End Contact Section -->
  </div>
  
    <!-- Footer -->
  <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
    <i class="fa fa-facebook-official w3-hover-text-indigo"></i>
    <i class="fa fa-instagram w3-hover-text-purple"></i>
    <i class="fa fa-snapchat w3-hover-text-yellow"></i>
    <i class="fa fa-pinterest-p w3-hover-text-red"></i>
    <i class="fa fa-twitter w3-hover-text-light-blue"></i>
    <i class="fa fa-linkedin w3-hover-text-indigo"></i>
    <p class="w3-medium">Powered by <a href="http://www.w3schools.com/w3css/default.asp" target="_blank" class="w3-hover-text-green">w3.css</a></p>
  <!-- End footer -->
  </footer>

<!-- END PAGE CONTENT -->
</div>

</body>
</html>


